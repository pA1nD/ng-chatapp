<!--
`let msg of chatArray` does the magic.
chatArray ist eine List mit allen Nachrichten.
Neue Nachrichten kommen da auch rein.
Wir iterieren Ã¼ber die Liste in einer Schleife und bei jedem Durchlauf
bekommen wir die jeweilige Nachricht in der Variable `msg`.
-->

<div>
  <div class="chatbox">
    <div class="chatlogs" style="background-image: url(assets/bg2.png); background-size: contain;">

      <!-- <div class="chat welcome">
          <div class="user-photo"></div>
          <p class="chat-message">
            <strong>Bot</strong><br />
            <span>Hallo {{name}}!</span>
          </p>
      </div> -->

      <div class= "chat" [ngClass]="name==msg.nickname ? 'self' : 'friend'" *ngFor="let msg of chatArray">
        <div class="user-photo" [ngStyle]="{'background-image': 'url(' + msg.img + ')'}" style='background-size: cover; background-position: center;'></div>
        <div class="chat-message">
          <strong>{{msg.nickname}} {{msg.emoji}}</strong>
          <span style="float: right;" class= "time">{{msg.dateString}} </span>
          <br />

          <p  style="word-wrap:break-word;">{{msg.message}}</p>

          <br />
        </div>
      </div>
    </div>


    <div target="_self chatlogs">
      <div class="chat-form">
        <textarea [(ngModel)]="chatMessage" (keyup.enter)="addMessage(chatMessage)" class="form-control" rows="2" placeholder="Nachricht verfassen"></textarea>
        <button (click)="addMessage(chatMessage)" [disabled]="!chatMessage" class="f6 grow no-underline br-pill ba bw1 ph3 pv2 mb2 dib dark-blue msg-btn">Senden</button>
      </div>
    </div>
    <div style='margin: 15px;'>
      <p style='color:white;
      font-size: small;'>
        User online: {{usercount}}
      </p>
    </div>

  </div>
</div>
